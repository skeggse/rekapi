/*! Rekapi - v0.15.6 - 2013-07-27 - http://rekapi.com */
(function(){function t(t,e,n,i){n.each(t._events[e],function(e){e(t,i)})}function e(){}var n=function(e,n,i){"use strict";function r(t){return l()-t._loopTimestamp}function o(t,e){t.update(e)}function a(t){o(t,r(t))}function s(t){var e=function(){s(t),a(t)};t._loopId=t._scheduleUpdate.call(f,e,1e3/t.config.fps)}function c(t){var e;return e=60!==t?f.setTimeout:f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.oRequestAnimationFrame||f.msRequestAnimationFrame||f.mozCancelRequestAnimationFrame&&f.mozRequestAnimationFrame||f.setTimeout}function p(t){var e;return e=60!==t?f.clearTimeout:f.cancelAnimationFrame||f.webkitCancelAnimationFrame||f.oCancelAnimationFrame||f.msCancelAnimationFrame||f.mozCancelRequestAnimationFrame||f.clearTimeout}function u(t){return this.config=t||{},this.context=this.config.context||{},this._actors={},this._playState=m.STOPPED,this._events={animationComplete:[],playStateChange:[],play:[],pause:[],stop:[],beforeUpdate:[],afterUpdate:[],addActor:[],removeActor:[]},this._timesToIterate=-1,this._loopId=null,this._loopTimestamp=null,this._pausedAtTime=null,this._lastUpdatedMillisecond=0,n.extend(this.config,t),n.defaults(this.config,d),this._scheduleUpdate=c(this.config.fps),this._cancelUpdate=p(this.config.fps),n.each(this._contextInitHook,function(t){t.call(this)},this),this}var h=Function,f=new h("return this")(),l=i.now,d={fps:60},m={STOPPED:"stopped",PAUSED:"paused",PLAYING:"playing"};u.prototype._contextInitHook={},u.prototype.addActor=function(e){return n.contains(this._actors,e)||(e.context()||e.context(this.context),e.kapi=this,e.fps=this.framerate(),this._actors[e.id]=e,e.setup(),t(this,"addActor",n,e)),this},u.prototype.getActor=function(t){return this._actors[t]},u.prototype.getActorIds=function(){return n.pluck(this._actors,"id")},u.prototype.getAllActors=function(){return n.clone(this._actors)},u.prototype.removeActor=function(e){return delete this._actors[e.id],delete e.kapi,e.teardown(),t(this,"removeActor",n,e),this},u.prototype.play=function(e){return this._cancelUpdate.call(f,this._loopId),this._playState===m.PAUSED?this._loopTimestamp+=l()-this._pausedAtTime:this._loopTimestamp=l(),this._timesToIterate=e||-1,this._playState=m.PLAYING,s(this),t(this,"playStateChange",n),t(this,"play",n),this},u.prototype.playFrom=function(t,e){return this.play(e),this._loopTimestamp=l()-t,this},u.prototype.playFromCurrent=function(t){return this.playFrom(this._lastUpdatedMillisecond,t)},u.prototype.pause=function(){return this._playState===m.PAUSED?this:(this._playState=m.PAUSED,this._cancelUpdate.call(f,this._loopId),this._pausedAtTime=l(),t(this,"playStateChange",n),t(this,"pause",n),this)},u.prototype.stop=function(){return this._playState=m.STOPPED,this._cancelUpdate.call(f,this._loopId),n.each(this._actors,function(t){t.stop()}),t(this,"playStateChange",n),t(this,"stop",n),this},u.prototype.isPlaying=function(){return this._playState===m.PLAYING},u.prototype.lastPositionUpdated=function(){return this._lastUpdatedMillisecond},u.prototype.actorCount=function(){return n.size(this._actors)},u.prototype.framerate=function(t){return t&&(this.config.fps=t,this._scheduleUpdate=c(this.config.fps),this._cancelUpdate=p(this.config.fps)),this.config.fps},u.prototype.update=function(e){return void 0===e&&(e=this._lastUpdatedMillisecond),t(this,"beforeUpdate",n),n.each(this._actors,function(t){t.updateState(e),"function"==typeof t.update&&t.update(t.context(),t.get())}),this._lastUpdatedMillisecond=e,t(this,"afterUpdate",n),this},u.prototype.on=function(t,e){return this._events[t]?(this._events[t].push(e),this):void 0},u.prototype.off=function(t,e){return this._events[t]?(this._events[t]=e?n.without(this._events[t],e):[],this):void 0},u.prototype.exportTimeline=function(){var t={actors:{}};return n.each(this._actors,function(e){t.actors[e.id]=e.exportTimeline()},this),t},u.util={},e.Kapi=u},i=function(n,i,r){"use strict";function o(t){return t.sort(function(t,e){return t-e})}function a(t,e){var n,i=t._timelinePropertyCacheIndex,r=i.length;for(n=1;r>n;n++)if(i[n]>=e)return n-1;return-1}function s(t){i.each(t._propertyTracks,function(e,n){t._propertyTracks[n]=i.sortBy(t._propertyTracks[n],function(t){return t.millisecond})})}function c(t){i.each(t._timelinePropertyCaches,function(e,n){var r=p(t,+n);i.defaults(e,r)})}function p(t,e){var n={};return i.each(t._propertyTracks,function(t,r){var o=null;if(i.find(t,function(t){return t.millisecond>e?n[r]=o:t.millisecond===e&&(n[r]=t),o=t,!!n[r]}),!n[r]){var a=i.last(t);a&&e>=a.millisecond&&(n[r]=a)}}),n}function u(t){i.each(t._propertyTracks,function(t){i.each(t,function(e,n){e.linkToNext(t[n+1])})})}function h(t,e,n){return i.find(t._propertyTracks[e],function(t){return t.millisecond===n})}function f(e){e._timelinePropertyCaches={},i.each(e._keyframeProperties,function(t){e._timelinePropertyCaches[t.millisecond]||(e._timelinePropertyCaches[t.millisecond]={}),e._timelinePropertyCaches[t.millisecond][t.name]=t},e),e._timelinePropertyCacheIndex=i.keys(e._timelinePropertyCaches),i.each(e._timelinePropertyCacheIndex,function(t,n){e._timelinePropertyCacheIndex[n]=+t},e),o(e._timelinePropertyCacheIndex),c(e),u(e),e.kapi&&t(e.kapi,"timelineModified",i)}function l(t){s(t),f(t)}var d="linear",m=n.Kapi,y=m.Actor=function y(t){return t=t||{},r.call(this),i.extend(this,{_propertyTracks:{},_timelinePropertyCaches:{},_timelinePropertyCacheIndex:[],_keyframeProperties:{},id:i.uniqueId(),setup:t.setup||e,update:t.update||e,teardown:t.teardown||e,data:{}}),t.context&&this.context(t.context),this},v=function v(){};v.prototype=r.prototype,y.superClass_=r.prototype,y.prototype=new v,y.prototype.constructor=y,y.prototype.context=function(t){return t&&(this._context=t),this._context},y.prototype.keyframe=function(t,e,n){var r;return n=n||d,"string"==typeof n&&(r=n,n={},i.each(e,function(t,e){n[e]=r})),i.each(e,function(t,e){n[e]=n[e]||d}),i.each(e,function(e,i){var r=new m.KeyframeProperty(this,t,i,e,n[i]);this._keyframeProperties[r.id]=r,this._propertyTracks[i]||(this._propertyTracks[i]=[]),this._propertyTracks[i].push(r),s(this)},this),f(this),this},y.prototype.getKeyframeProperty=function(t,e){return this._propertyTracks[t]&&this._propertyTracks[t][e]?this._propertyTracks[t][e]:void 0},y.prototype.modifyKeyframeProperty=function(t,e,n){return this._propertyTracks[t]&&this._propertyTracks[t][e]&&this._propertyTracks[t][e].modifyWith(n),l(this),this},y.prototype.getTrackNames=function(){return i.keys(this._propertyTracks)},y.prototype.getTrackLength=function(t){return this._propertyTracks[t]?this._propertyTracks[t].length:void 0},y.prototype.copyProperties=function(t,e){var n={},r={};return i.each(this._propertyTracks,function(t,i){var o=h(this,i,e);o&&(n[i]=o.value,r[i]=o.easing)},this),this.keyframe(t,n,r),this},y.prototype.wait=function(t){var e=this.getEnd();if(e>=t)return this;var n=this.getEnd(),r=p(this,this.getEnd()),o={},a={};return i.each(r,function(t,e){o[e]=t.value,a[e]=t.easing}),this.removeKeyframe(n),this.keyframe(n,o,a),this.keyframe(t,o,a),this},y.prototype.getStart=function(t){var e=[];return t?e.push(this._propertyTracks[t][0].millisecond):i.each(this._propertyTracks,function(t){t.length&&e.push(t[0].millisecond)}),0===e.length?0:Math.min.apply(Math,e)},y.prototype.getEnd=function(t){var e=0,n=this._propertyTracks;return t&&(n={},n[t]=this._propertyTracks[t]),i.each(n,function(t){if(t.length){var n=i.last(t).millisecond;n>e&&(e=n)}},this),e},y.prototype.getLength=function(t){return this.getEnd(t)-this.getStart(t)},y.prototype.hasKeyframeAt=function(t,e){var n=this._propertyTracks;if(e){if(!i.has(n,e))return!1;n=i.pick(n,e)}return void 0!==i.find(n,function(e,n){var i=h(this,n,t);return void 0!==i},this)},y.prototype.moveKeyframe=function(t,e){return!this.hasKeyframeAt(t)||this.hasKeyframeAt(e)?!1:(i.each(this._propertyTracks,function(n,i){var r=h(this,i,t);r&&r.modifyWith({millisecond:e})},this),l(this),!0)},y.prototype.modifyKeyframe=function(t,e,n){return n=n||{},i.each(this._propertyTracks,function(i,r){var o=h(this,r,t);o&&o.modifyWith({value:e[r],easing:n[r]})},this),this},y.prototype.removeKeyframe=function(t){return i.each(this._propertyTracks,function(e){var n=-1,r=!1;if(i.find(e,function(e){return n++,r=t===e.millisecond}),r){var o=e.splice(n,1)[0];o&&delete this._keyframeProperties[o.id]}},this),f(this),this},y.prototype.removeAllKeyframeProperties=function(){return i.each(this._propertyTracks,function(t){t.length=0},this),this._keyframeProperties={},this.removeKeyframe(0)},y.prototype.updateState=function(t){var e=this.getStart(),n=this.getEnd(),r=t%n;if(t=0===r&&t>0?n:r,t>=e){var o=a(this,t),s=this._timelinePropertyCaches[this._timelinePropertyCacheIndex[o]],c={};i.each(s,function(e,n){e&&(c[n]=e.getValueAt(t))}),this.set(c)}return this},y.prototype.exportTimeline=function(){var t={start:this.getStart(),end:this.getEnd(),trackNames:this.getTrackNames(),propertyTracks:{}};return i.each(this._propertyTracks,function(e,n){var r=t.propertyTracks[n]=[];i.each(e,function(t){r.push(t.exportPropertyData())})}),t}},r=function(t,e,n){"use strict";var i="linear",r=t.Kapi;r.KeyframeProperty=function(t,n,r,o,a){return this.id=e.uniqueId("keyframeProperty_"),this.ownerActor=t,this.millisecond=n,this.name=r,this.value=o,this.easing=a||i,this.nextProperty=null,this};var o=r.KeyframeProperty;o.prototype.modifyWith=function(t){var n={};e.each(["millisecond","easing","value"],function(e){n[e]=t[e]===void 0?this[e]:t[e]},this),e.extend(this,n)},o.prototype.linkToNext=function(t){this.nextProperty=t||null},o.prototype.getValueAt=function(t){var e,i={},r={};if(this.nextProperty){i[this.name]=this.value,r[this.name]=this.nextProperty.value;var o=this.nextProperty.millisecond-this.millisecond,a=(t-this.millisecond)/o;e=n.interpolate(i,r,a,this.nextProperty.easing)[this.name]}else e=this.value;return e},o.prototype.exportPropertyData=function(){return{id:this.id,millisecond:this.millisecond,name:this.name,value:this.value,easing:this.easing}}},o=function(e,n){"use strict";function i(t,e,n){return n!==void 0&&(t[e]=n,t.style[e]=n+"px"),t[e]}function r(t){t.config.clearOnUpdate&&t.canvas.clear()}function o(e){t(e,"beforeDraw",n);var i,r=e.canvas._drawOrder.length;if(e.canvas._drawOrderSorter){var o=n.sortBy(e.canvas._canvasActors,e.canvas._drawOrderSorter);i=n.pluck(o,"id")}else i=e.canvas._drawOrder;var a,s,c;for(c=0;r>c;c++)a=e.canvas._canvasActors[i[c]],s=a.context(),a.draw(s,a.get());return t(e,"afterDraw",n),e}function a(t,e){e instanceof c.CanvasActor&&(t.canvas._drawOrder.push(e.id),t.canvas._canvasActors[e.id]=e)}function s(t,e){e instanceof c.CanvasActor&&(t.canvas._drawOrder=n.without(t.canvas._drawOrder,e.id),delete t.canvas._canvasActors[e.id])}var c=e.Kapi;c.prototype._contextInitHook.canvas=function(){this.context.getContext&&(this.canvas=new p(this),this.config.clearOnUpdate=!0,n.extend(this._events,{beforeDraw:[],afterDraw:[]}),n.each(["Height","Width"],function(t){var e=t.toLowerCase();this.config[e]&&(this.canvas[e](this.config[e]),delete this.config[t])},this),this.on("afterUpdate",o),this.on("addActor",a),this.on("removeActor",s),this.on("beforeDraw",r))},c.CanvasRenderer=function(t){return this.kapi=t,this._drawOrder=[],this._drawOrderSorter=null,this._canvasActors={},this};var p=c.CanvasRenderer;p.prototype.height=function(t){return i(this.kapi.context,"height",t)},p.prototype.width=function(t){return i(this.kapi.context,"width",t)},p.prototype.clear=function(){return this.kapi.context.getContext&&this.context().clearRect(0,0,this.width(),this.height()),this.kapi},p.prototype.context=function(){return this.kapi.context.getContext("2d")},p.prototype.moveActorToLayer=function(t,e){return this._drawOrder.length>e?(this._drawOrder=n.without(this._drawOrder,t.id),this._drawOrder.splice(e,0,t.id),t):void 0},p.prototype.setOrderFunction=function(t){return this._drawOrderSorter=t,this.kapi},p.prototype.unsetOrderFunction=function(){return this._drawOrderSorter=null,this.kapi}},a=function(t){"use strict";function n(){}var i=t.Kapi;i.CanvasActor=function(t){return i.Actor.call(this,t),t=t||{},this.draw=t.draw||e,this};var r=i.CanvasActor;n.prototype=i.Actor.prototype,r.prototype=new n,r.prototype.context=function(t){return t&&(this._context=t),this._context&&this._context.getContext("2d")},r.prototype.moveToLayer=function(t){return this.kapi.canvas.moveActorToLayer(this,t)}},s=function(t,e){"use strict";function n(t,e,n){t.style[e]=n}function i(t){return e.contains(p,t)}function r(t,n){var i=[];return e.each(t,function(t){n[t]&&i.push(t+"("+n[t]+")")}),i.join(" ")}function o(t,i){e.each(c,function(e){n(t,e,i)})}function a(){}var s=t.Kapi,c=["transform","webkitTransform","MozTransform","oTransform","msTransform"],p=["translateX","translateY","scale","scaleX","scaleY","rotate","skewX","skewY"];s.DOMActor=function(t,e){s.Actor.call(this,e),this._context=t;var n=this.getCSSName();return this._context.className.match(n)||(this._context.className+=" "+n),this._transformOrder=p.slice(0),delete this.update,delete this.teardown,this};var u=s.DOMActor;a.prototype=s.Actor.prototype,u.prototype=new a,u.prototype.update=function(t,a){var s=e.keys(a),c=e.filter(s,i),p=e.reject(s,i),u=e.pick(a,p);if(c.length){var h=e.pick(a,c),f=r(this._transformOrder,h);o(t,f)}else a.transform&&o(t,a.transform);e.each(u,function(e,i){n(t,i,e)},this)},u.prototype.teardown=function(){var t=this._context.className.match(/\S+/g),n=e.without(t,this.getCSSName());this._context.className=n},u.prototype.getCSSName=function(){return"actor-"+this.id},u.prototype.setTransformOrder=function(t){var n=e.reject(t,i);if(n.length)throw"Unknown or unsupported transform functions: "+n.join(", ");return this._transformOrder=e.uniq(t),this}},c=function(t,e){"use strict";function n(t,n,r,o){var a=t.getTrackNames(),s=[];e.each(a,function(e){s.push(y(t,r,e))});var c=[];return e.each(a,function(t,e){c.push(i(s[e],n+"-"+t,o))}),c=c.join("\n")}function i(t,n,i){i=i||["w3"];var o=[];return e.each(i,function(e){var i=E(O,[C[e],n,t]),a=r(i,e);o.push(a)}),o.join("\n")}function r(t,e){var n=RegExp(w,"g"),i=C[e]+"transform",r=RegExp(A,"g"),o=C[e],a=t.replace(r,o).replace(n,i);return a}function o(t,n,i,r,o){i=i||["w3"];var s,c=[];e.each(i,function(e){s=a(t,n,e,r,o),c.push(s)});var p=E(I,[n,c.join("\n")]);return p}function a(t,e,n,i,r){var o=[],a=C[n];return o.push(s(t,e,a)),o.push(c(t,a)),o.push(p(t,a)),o.push(u(a)),o.push(h(a)),o.push(f(t.kapi,a,i)),r&&o.push(l(a)),o.join("\n")}function s(t,n,i){var r=E("  %sanimation-name:",[i]),o=t.getTrackNames();return e.each(o,function(t){r+=E(" %s-%s-keyframes,",[n,t])}),r=r.slice(0,r.length-1),r+=";"}function c(t,e){return E("  %sanimation-duration: %sms;",[e,t.getEnd()-t.getStart()])}function p(t,e){return E("  %sanimation-delay: %sms;",[e,t.getStart()])}function u(t){return E("  %sanimation-fill-mode: forwards;",[t])}function h(t){return E("  %sanimation-timing-function: linear;",[t])}function f(t,e,n){var i;i=n?n:-1===t._timesToIterate?"infinite":t._timesToIterate;var r="  %sanimation-iteration-count: %s;";return E(r,[e,i])}function l(t){return E("  %stransform-origin: 0 0;",[t])}function d(t){var e=!1;if(t.nextProperty)for(var n,i=t.nextProperty.easing.split(" "),r=0,o=i.length,a=i[0];o>r;r++){if(n=i[r],!P[n]||a!==n)return!1;e=!0,a=n}return e}function m(t,e,n){var i=[],r=t.name;"transform"===t.name&&(r=w);var o=P[t.nextProperty.easing.split(" ")[0]],a=E("cubic-bezier(%s)",[o]),s=+e.toFixed(2),c=+n.toFixed(2);return i.push("  "+s+"% {"+r+":"+t.value+";"+A+"animation-timing-function: "+a+";}"),i.push("  "+c+"% {"+r+":"+t.nextProperty.value+";}"),i.join("\n")}function y(t,n,i){var r=[],o=t.getEnd(),a=t.getStart(),s=t.getLength(),c=v(t,i,a);c&&r.push(c);var p=!1;e.each(t._propertyTracks[i],function(e){var i,o,c,u=g(e,a,s),h=e.nextProperty;if(h){i=g(h,a,s);var f=i-u;o=Math.floor(f/100*n)||1,c=f/o}else i=100,o=1,c=1;var l;if(d(e)){if(l=m(e,u,i),p){var y=r.length,v=r[y-1],_=v.split("\n")[0];r[y-1]=_}p=!0}else l=k(t,e,o,c,a,u),p&&l.shift(),l.length&&(l=l.join("\n")),p=!1;l.length&&r.push(l)});var u=_(t,i,a,o);return u&&r.push(u),r.join("\n")}function v(t,e,n){var i=t._propertyTracks[e][0];if(i.millisecond!==n){var r=k(t,i,1,1,i.millisecond,0);return r.join("\n")}}function _(t,n,i,r){var o=e.last(t._propertyTracks[n]);if(o.millisecond!==r){var a=k(t,o,1,1,i,100);return a.join("\n")}}function g(t,e,n){return 100*((t.millisecond-e)/n)}function k(t,e,n,i,r,o){var a,s,c,p=[],u=t.getLength();for(a=0;n>a;a++)s=o+a*i,t.updateState(s/100*u+r),c=+s.toFixed(2)+"% ",p.push("  "+c+T(t,e.name));return p}function T(t,n){var i,r=["{"];if(n){i={};var o=t.get()[n];o!==void 0&&(i[n]=o)}else i=t.get();var a;return e.each(i,function(t,e){a=t;var n=e;"transform"===e&&(n=w),r.push(n+":"+a+";")}),r.push("}"),r.join("")}var S=t.Kapi,x=30,w="TRANSFORM",A="VENDOR",C=S.util.VENDOR_PREFIXES={microsoft:"-ms-",mozilla:"-moz-",opera:"-o-",w3:"",webkit:"-webkit-"},P={linear:".25,.25,.75,.75",easeInQuad:".55,.085,.68,.53",easeInCubic:".55,.055,.675,.19",easeInQuart:".895,.03,.685,.22",easeInQuint:".755,.05,.855,.06",easeInSine:".47,0,.745,.715",easeInExpo:".95,.05,.795,.035",easeInCirc:".6,.04,.98, .335",easeOutQuad:".25,.46,.45,.94",easeOutCubic:".215,.61,.355,1",easeOutQuart:".165,.84,.44,1",easeOutQuint:".23,1,.32,1",easeOutSine:".39,.575,.565,1",easeOutExpo:".19,1,.22,1",easeOutCirc:".075,.82,.165,1",easeInOutQuad:".455,.03,.515,.955",easeInOutCubic:".645,.045,.355,1",easeInOutQuart:".77,0,.175,1",easeInOutQuint:".86,0.07,1",easeInOutSine:".445,.05,.55,.95",easeInOutExpo:"1,0,0,1",easeInOutCirc:".785,.135,.15,.86"},O=["@%skeyframes %s-keyframes {","%s","}"].join("\n"),I=[".%s {","%s","}"].join("\n");S.prototype.toCSS=function(t){t=t||{};var n=[];return e.each(this.getAllActors(),function(e){e instanceof S.DOMActor&&n.push(e.toCSS(t))}),n.join("\n")},S.Actor.prototype.toCSS=function(t){t=t||{};var e=[],i=t.name||this.getCSSName(),r=t.fps||x,a=Math.ceil(this.getEnd()/1e3*r),s=o(this,i,t.vendors,t.iterations,t.isCentered),c=n(this,i,a,t.vendors);return e.push(s),e.push(c),e.join("\n")};var E=S.util.printf=function(t,n){var i=t;return e.each(n,function(t){i=i.replace("%s",t)}),i}},p=function(t,e,n){"use strict";function i(){var t=document.body.style;return"-webkit-animation"in t?"webkit":"-moz-animation"in t?"mozilla":"-ms-animation"in t?"microsoft":"-o-animation"in t?"opera":"animation"in t?"w3":""}function r(t){var e=document.createElement("style"),n="rekapi-"+a++;return e.id=n,e.innerHTML=t,document.head.appendChild(e),e}var o=t.Kapi;o.prototype._contextInitHook.cssAnimate=function(){this.css=new s(this)};var a=0;o.CSSRenderer=function(t){if(!o.DOMActor&&!o.prototype.toCSS)throw"CSSRenderer requires the DOMActor and toCSS modules.";return this.kapi=t,this._startingTime=0,this._cachedCSS=null,t.on("timelineModified",e.bind(function(){this._cachedCSS=null},this)),this};var s=o.CSSRenderer;o.CSSRenderer.prototype._styleElement=null,s.prototype.canAnimateWithCSS=function(){return!!i()},s.prototype.prerender=function(t,e){return this._cachedCSS=this.kapi.toCSS({vendors:[i()],fps:e,iterations:t})},s.prototype.play=function(t){this.stop();var i=this._cachedCSS||this.prerender.apply(this,arguments);if(this._styleElement=r(i),this._startingTime=n.now(),t){var o=t*this.kapi.animationLength();setTimeout(e.bind(this.stop,this),o)}},s.prototype.stop=function(t){this.isPlaying()&&(document.head.removeChild(this._styleElement),this._styleElement=null,t||this.kapi.update(this.kapi.animationLength()))},s.prototype.isPlaying=function(){return!!this._styleElement}},u=function(t,e){"use strict";var u=e?{}:t,h=e&&e.underscore?e.underscore:u._,f=e&&e.Tweenable?e.Tweenable:u.Tweenable;return n(u,h,f),i(u,h,f),r(u,h,f),"function"==typeof s&&s(u,h,f),"function"==typeof c&&c(u,h,f),"function"==typeof o&&o(u,h,f),"function"==typeof a&&a(u,h,f),"function"==typeof p&&p(u,h,f),u.Kapi};if("function"==typeof define&&define.amd){var h="undefined"!=typeof _;define(["shifty","underscore"],function(t,e){var n=null!=e,i={Tweenable:t,underscore:n?e:_},r=u({},i);return!h&&n&&(this._=void 0),r})}else u(this)})(this);